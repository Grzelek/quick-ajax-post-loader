(n=>{var a={init:function(){this.qapl_quick_ajax_handlers()},qapl_quick_ajax_handlers:function(){var a;"undefined"!=typeof qapl_quick_ajax_helper&&qapl_quick_ajax_helper&&(a=this,qapl_quick_ajax_helper.helper.load_more_data_button&&n(".quick-ajax-posts-wrapper").on("click",`[data-button="${qapl_quick_ajax_helper.helper.load_more_data_button}"]`,function(){a.qapl_quick_ajax_handle_ajax(n(this))}),qapl_quick_ajax_helper.helper.filter_data_button)&&n(".quick-ajax-filter-wrapper").on("click",`[data-button="${qapl_quick_ajax_helper.helper.filter_data_button}"]`,function(){a.qapl_quick_ajax_handle_ajax(n(this))})},qapl_quick_ajax_handle_ajax:function(t){var e=this;try{var a=JSON.parse(t.attr("data-action")||"{}"),r=JSON.parse(t.attr("data-attributes")||"{}");if("object"!=typeof a||"object"!=typeof r)throw new Error("Quick Ajax Post Loader: Invalid JSON structure")}catch(a){return void console.error("Quick Ajax Post Loader: Error parsing JSON:",a)}var o=t.attr("data-button"),_=r[qapl_quick_ajax_helper.helper.block_id]||"",i=n("#"+_),l=n("#"+_+" .quick-ajax-posts-inner-wrapper");i.length&&l.length?(i.addClass("loading"),t.attr("data-button")===qapl_quick_ajax_helper.helper.filter_data_button&&l.fadeOut(100,function(){n(this).empty().fadeIn(100)}),n.ajax({url:qapl_quick_ajax_helper.ajax_url,type:"POST",data:{action:"qapl_quick_ajax_load_posts",nonce:qapl_quick_ajax_helper.nonce,args:a,attributes:r,button_type:o},success:function(a){a&&a.data?o===qapl_quick_ajax_helper.helper.load_more_data_button?e.qapl_quick_ajax_load_more_add_posts(l,t,a.data.output):o===qapl_quick_ajax_helper.helper.filter_data_button&&e.qapl_quick_ajax_term_filter_show_posts(l,t,a.data.output):console.error("Quick Ajax Post Loader: Error:",a.data.output),i.removeClass("loading")},error:function(a,t,e){console.error("Quick Ajax Post Loader: Error:",e),i.removeClass("loading")}})):console.error("Quick Ajax Post Loader: Container or inner container not found:",_)},qapl_quick_ajax_load_more_add_posts:function(a,t,e){t.parent().remove();t=n(e).hide();a.append(t),t.slideDown(function(){n(this).removeAttr("style")})},qapl_quick_ajax_term_filter_show_posts:function(a,t,e){n(`[data-button="${qapl_quick_ajax_helper.helper.filter_data_button}"]`).removeClass("active"),t.addClass("active");t=n(e).css("opacity","0");a.html(t),t.animate({opacity:1},{duration:400,complete:function(){n(this).removeAttr("style")}})}};n(document).ready(function(){a.init()})})(jQuery);