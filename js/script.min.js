!function(a){var t={init:function(){this.qapl_quick_ajax_handlers(),this.qapl_quick_ajax_initial_load()},qapl_quick_ajax_handlers:function(){if("undefined"!=typeof qapl_quick_ajax_helper&&qapl_quick_ajax_helper){var t=this;qapl_quick_ajax_helper.helper.load_more_data_button&&a(".quick-ajax-posts-wrapper").on("click",`[data-button="${qapl_quick_ajax_helper.helper.load_more_data_button}"]`,(function(){t.qapl_quick_ajax_handle_ajax(a(this))})),qapl_quick_ajax_helper.helper.filter_data_button&&a(".quick-ajax-filter-wrapper").on("click",`[data-button="${qapl_quick_ajax_helper.helper.filter_data_button}"]`,(function(){t.qapl_quick_ajax_handle_ajax(a(this))}))}},qapl_quick_ajax_initial_load:function(){var t=a(".quick-ajax-initial-loader");t.length>0&&this.qapl_quick_ajax_handle_ajax(t)},qapl_quick_ajax_handle_ajax:function(t){var e=this;try{var _=JSON.parse(t.attr("data-action")||"{}"),i=JSON.parse(t.attr("data-attributes")||"{}");if("object"!=typeof _||"object"!=typeof i)throw new Error("Quick Ajax Post Loader: Invalid JSON structure")}catch(a){return}var l=t.attr("data-button"),r=i[qapl_quick_ajax_helper.helper.block_id]||"",o=a("#"+r),n=a("#"+r+" .quick-ajax-posts-inner-wrapper");o.length&&n.length&&(o.addClass("loading"),t.attr("data-button")===qapl_quick_ajax_helper.helper.filter_data_button&&n.fadeOut(100,(function(){a(this).empty().fadeIn(100)})),a.ajax({url:qapl_quick_ajax_helper.ajax_url,type:"POST",data:{action:"qapl_quick_ajax_load_posts",nonce:qapl_quick_ajax_helper.nonce,args:_,attributes:i,button_type:l},success:function(a){a&&a.data&&(l===qapl_quick_ajax_helper.helper.load_more_data_button?e.qapl_quick_ajax_load_more_add_posts(n,t,a.data.output):l===qapl_quick_ajax_helper.helper.filter_data_button&&e.qapl_quick_ajax_term_filter_show_posts(n,t,a.data.output)),o.removeClass("loading")},error:function(a,t,e){o.removeClass("loading")}}))},qapl_quick_ajax_load_more_add_posts:function(t,e,_){e.parent().remove();var i=a(_).hide();t.append(i),i.slideDown((function(){a(this).removeAttr("style")}))},qapl_quick_ajax_term_filter_show_posts:function(t,e,_){a(`[data-button="${qapl_quick_ajax_helper.helper.filter_data_button}"]`).removeClass("active"),e.addClass("active");var i=a(_).css("opacity","0");t.html(i),i.animate({opacity:1},{duration:400,complete:function(){a(this).removeAttr("style")}})}};a(document).ready((function(){t.init()}))}(jQuery);