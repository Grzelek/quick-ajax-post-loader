!function(a){var t={init:function(){this.click_and_select_shortcode(),this.click_and_select_all(),this.handle_post_type_change(),this.show_hide_element_on_change(),this.quick_ajax_tabs(),this.copy_code(),this.quick_ajax_function_generator(),this.accordion_block_toggle()},handle_post_type_change:function(){"undefined"!=typeof qapl_quick_ajax_helper&&qapl_quick_ajax_helper&&a("#"+qapl_quick_ajax_helper.quick_ajax_settings_wrapper+" #"+qapl_quick_ajax_helper.quick_ajax_post_type).length&&a("#"+qapl_quick_ajax_helper.quick_ajax_settings_wrapper+" #"+qapl_quick_ajax_helper.quick_ajax_post_type).on("change",(function(){var t=a(this).val();a.ajax({url:qapl_quick_ajax_helper.ajax_url,type:"POST",data:{action:"qapl_quick_ajax_get_taxonomies_by_post_type",post_type:t,nonce:qapl_quick_ajax_helper.nonce},success:function(t){if(t&&t.data){var e=a("#"+qapl_quick_ajax_helper.quick_ajax_settings_wrapper+" #"+qapl_quick_ajax_helper.quick_ajax_taxonomy);e.empty(),e.append(t.data)}},error:function(a,t,e){}})}))},show_hide_element_on_change:function(){a(".show-hide-element").each((function(){var t=a(this).find("input"),e=t.attr("id");t.change((function(){t.is(":checked")?a('div[data-item="'+e+'"]').removeClass("inactive"):a('div[data-item="'+e+'"]').addClass("inactive")}))}))},quick_ajax_tabs:function(){if(a(".quick-ajax-tabs").length){const t=a(".quick-ajax-tab-button"),e=a(".quick-ajax-tab-content");t.on("click",(function(_){_.preventDefault();const n=a(this).data("tab");t.removeClass("active").attr("aria-selected","false").attr("tabindex","-1"),e.removeClass("active").attr("hidden",!0),a(this).addClass("active").attr("aria-selected","true").attr("tabindex","0"),a("#"+n).addClass("active").attr("hidden",!1)})),t.on("keydown",(function(a){const e=t.index(this);let _;if("ArrowRight"===a.key)_=(e+1)%t.length;else{if("ArrowLeft"!==a.key)return;_=(e-1+t.length)%t.length}t.eq(_).focus().click()}))}},copy_code:function(){a(".copy-button").on("click",(function(){var t=a("#"+a(this).data("copy")),e=a("<textarea>").val(t.text()).appendTo("body").select();try{navigator.clipboard.writeText(t.text()).then((()=>{})).catch((a=>{}))}finally{e.remove(),a(this).text("Code Copied"),setTimeout((()=>{a(this).text("Copy Code")}),2e3)}}))},generateId:function(a){let t=0;for(let e=0;e<a.length;e++)t+=a.charCodeAt(e),e%2==0?t+=a.charCodeAt(e):t-=a.charCodeAt(e);return t},getExcludedPostIds:function(a){var t=a.split(/[,\s]+/),e=[];return t.forEach((function(a){/^\d+$/.test(a)&&-1===e.indexOf(a)&&e.push(a)})),e.join(", ")},cleanClassNames:function(a){let t=a.replace(/,/g," ").split(/\s+/);return t=t.filter(((a,t,e)=>!/^\d/.test(a)&&""!==a&&e.indexOf(a)===t)),t.join(" ")},quick_ajax_function_generator:function(){var t=this;a(".generate-function-button").on("click",(function(){var e=a(this),_=e.attr("data-output");e.prop("disabled",!0);var n=a('.copy-button[data-copy="'+_+'"]');n.prop("disabled",!0);var i={};a(".function-generator-wrap input, .function-generator-wrap select, .function-generator-wrap checkbox").each((function(t,e){"checkbox"===e.type?i[e.id]=e.checked?1:0:i[e.id]=a(e).val()}));let o=Object.values(i).join("");var c="";(c+="$quick_ajax_args = array(\n",c+="    'post_type' => '"+i.qapl_select_post_type+"',\n",c+="    'post_status' => '"+i.qapl_select_post_status+"',\n",c+="    'posts_per_page' => "+i.qapl_select_posts_per_page+",\n","none"!==i.qapl_select_orderby&&(c+="    'orderby' => '"+i.qapl_select_orderby+"',\n"),c+="    'order' => '"+i.qapl_select_order+"',\n",""!==i.qapl_select_post_not_in)&&(c+="    'post__not_in' => array("+t.getExcludedPostIds(i.qapl_select_post_not_in)+"),\n");if(1===i.qapl_ignore_sticky_posts&&(c+="    'ignore_sticky_posts' => "+i.qapl_ignore_sticky_posts+",\n"),c+=");","undefined"!=typeof qapl_quick_ajax_helper&&qapl_quick_ajax_helper){var l={};if(l[qapl_quick_ajax_helper.quick_ajax_id]=t.generateId(o),1===i.qapl_layout_quick_ajax_css_style&&(l[qapl_quick_ajax_helper.quick_ajax_css_style]=i.qapl_layout_quick_ajax_css_style,l[qapl_quick_ajax_helper.grid_num_columns]=i.qapl_layout_select_columns_qty),i.qapl_layout_quick_ajax_post_item_template){var s=i.qapl_layout_quick_ajax_post_item_template;l[qapl_quick_ajax_helper.post_item_template]=s}if(i.qapl_layout_add_taxonomy_filter_class&&""!==i.qapl_layout_add_taxonomy_filter_class){s=t.cleanClassNames(i.qapl_layout_add_taxonomy_filter_class);l[qapl_quick_ajax_helper.taxonomy_filter_class]=s}if(i.qapl_layout_add_container_class&&""!==i.qapl_layout_add_container_class){s=t.cleanClassNames(i.qapl_layout_add_container_class);l[qapl_quick_ajax_helper.container_class]=s}1===i.qapl_show_custom_load_more_post_quantity&&(l[qapl_quick_ajax_helper.load_more_posts]=i.qapl_select_custom_load_more_post_quantity),1===i.qapl_override_global_loader_icon&&(l[qapl_quick_ajax_helper.loader_icon]=i.qapl_loader_icon),1===i.qapl_ajax_on_initial_load&&(l[qapl_quick_ajax_helper.ajax_initial_load]=i.qapl_ajax_on_initial_load)}var r="";Object.keys(l).length>0&&(r="",r+="$quick_ajax_attributes = array(\n",Object.entries(l).forEach((([a,e])=>{let _;_=t.quick_ajax_is_numeric(e)?parseInt(e):"string"==typeof e?`'${e}'`:e,r+=`    '${a}' => ${_},\n`})),r=r.slice(0,-2)+"\n",r+=");");var p=null;if(1===i.qapl_show_select_taxonomy)p=i.qapl_select_taxonomy;var u="",d="";null!==p&&(u="",u+=`$quick_ajax_taxonomy = '${p}';`,d="",d+="if(function_exists('qapl_quick_ajax_term_filter')):\n",d+="    qapl_quick_ajax_term_filter(\n",d+="        $quick_ajax_args,\n",d+="        $quick_ajax_attributes,\n",d=(d+="        $quick_ajax_taxonomy,\n").slice(0,-2)+"\n",d+="    );\n",d+="endif;");var q="";q+="if(function_exists('qapl_quick_ajax_post_grid')):\n",q+="   qapl_quick_ajax_post_grid(\n",q+="       $quick_ajax_args,\n",""!==r&&(q+="       $quick_ajax_attributes,\n"),q=q.slice(0,-2)+"\n",q+="   );\n",q+="endif;";var x="";""!==c.trim()&&(x+="\n// Define AJAX query parameters for '"+i.qapl_select_post_type+"' type posts.\n",x+=c.trim()+"\n"),""!==r.trim()&&(x+="\n// Define attributes for AJAX.\n",x+=r.trim()+"\n"),""!==u.trim()&&(x+="\n// Set the taxonomy for filtering posts.\n",x+=u.trim()+"\n"),""!==d.trim()&&(x+="\n// Render the navigation for '"+i.qapl_select_taxonomy+"' terms.\n",x+=d.trim()+"\n"),""!==q.trim()&&(x+="\n// Render the grid for '"+i.qapl_select_post_type+"' type posts.\n",x+=q.trim()+"\n");var h=a("#"+_);h.empty();for(var k=x.split("\n"),f=0;f<k.length;f++)!function(a){setTimeout((function(){h.append(k[a]+"\n"),a===k.length-1&&(e.prop("disabled",!1),n.prop("disabled",!1))}),50*f)}(f)}))},quick_ajax_is_numeric:function(a){return/^-?\d+(\.\d+)?$/.test(a)},quick_ajax_color_picker:function(){a(".color-picker-field").wpColorPicker()},quick_ajax_select_text:function(a){var t,e;document.body.createTextRange?((t=document.body.createTextRange()).moveToElementText(a),t.select()):window.getSelection&&(e=window.getSelection(),(t=document.createRange()).selectNodeContents(a),e.removeAllRanges(),e.addRange(t))},click_and_select_shortcode:function(){var t=this;a(".quick-ajax-shortcode").on("click",(function(){t.quick_ajax_select_text(this)}))},click_and_select_all:function(){var t=this;a(".click-and-select-all").on("click",(function(){var e=a(this).find("code").get(0);t.quick_ajax_select_text(e)}))},accordion_block_toggle:function(){var t=a("#wpbody-content");if(t.find(".quick-ajax-tabs").length>0){var e=a("#adminmenuwrap").outerHeight();t.css("min-height",e)}a(".quick-ajax-accordion-toggle").click((function(){a(this).toggleClass("active").next(".quick-ajax-accordion-content").slideToggle(200)}))}};a(document).ready((function(){t.init()}))}(jQuery);